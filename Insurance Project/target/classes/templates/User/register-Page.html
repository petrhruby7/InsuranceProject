<!DOCTYPE html>

<html lang="cs-cz" xmlns:th="http://www.w3.org/1999/xhtml" xmlns:sec="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="UTF-8">
    <title>Register</title>
</head>
<body>


    <!-- ZDE JE DIV S FLASH MESSAGE O CHYBÁCH-->
    <div style="color:red" class="flash-message message-error" th:text="${error}" th:if="${error}"> </div>

    <h1>This is Register Page</h1>
    <form th:action="@{/register}" th:object="${userDTO}" method="post" ><!-- nezapomenout atribut method, potřeba je th:action a th:object -->
        <div>
            <label for="uname">User name:</label><br>

            <input type="text" id="uname" name="userName" th:field="*{userName}"><br>
            <small style="color:red" th:errors="*{userName}"></small>
        </div>
        <div>
            <label for="email">Email:</label><br>
            <input type="email" id="email" name="email" th:field="*{email}"><br>
            <small style="color:red" th:errors="*{email}"></small>
        </div>
        <div>
            <label for="fname">First name:</label><br>

            <input type="text" id="fname" name="firstName" th:field="*{firstName}"><br>
            <small style="color:red" th:errors="*{firstName}"></small>
        </div>
        <div>
            <label for="lname">Last name:</label><br>
            <input type="text" id="lname" name="lastName" th:field="*{lastName}"><br>

            <small style="color:red" th:errors="*{lastName}"></small>
        </div>
        <div>
            <label for="pass"> Password:</label><br>
            <input type="password" id="pass" name="password" th:field="*{password}"><br> <!-- použít requied? minnlength a maxlength? -->
            <small style="color:red" th:errors="*{password}"></small>
        </div>
        <div>
            <label for="confirm"> Confirm password: </label><br>
            <input type="password" id="confirm" name="confirm" th:field="*{confirmPassword}"><br>
            <small style="color:red" th:errors="*{confirmPassword}"></small>
        </div>
        <div>
            <input type="submit" value="Register"> <br>
        </div>

    </form>

    <a sec:authorize="isAnonymous"  href="/">home</a>
    <a sec:authorize="isAnonymous"  href="/login">login</a>
    <form method="post" th:action="@{/logout}">
        <button sec:authorize="isAuthenticated()">Odhlásit se</button>
    </form>
</body>
</html>